(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{498:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("一个脚本必然需要通过很多手段操控它的运行，而无论什么操控手段，都离不开变量。从变量的实质来说，变量名是指向一片用于存储数据的内存空间。Shell语法的变量有几个特点：")]),t._v(" "),a("ul",[a("li",[t._v("弱类型")]),t._v(" "),a("li",[t._v("无需事先声明")])]),t._v(" "),a("h2",{attrs:{id:"变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[t._v("#")]),t._v(" 变量")]),t._v(" "),a("h3",{attrs:{id:"_1、局部变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、局部变量"}},[t._v("#")]),t._v(" 1、局部变量")]),t._v(" "),a("p",[t._v("只在某个Shell中生效的变量，随着当前Shell的消失而消失，可以使用local内建命令来“显式”的声明局部变量，但仅限于函数内使用。")]),t._v(" "),a("h3",{attrs:{id:"_2、环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、环境变量"}},[t._v("#")]),t._v(" 2、环境变量")]),t._v(" "),a("p",[t._v("环境变量，又称“全局变量”。可以"),a("code",[t._v("使用export内建命令将其导出为环境变量")]),t._v("。环境变量在当前环境和子Shell环境中生效，“传子不传父”。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@fanxin sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("VAR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value //将当前变量VAR导出为环境变量，所以其子shell、孙子shell都可以使用VAR的值\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3、变量命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、变量命名"}},[t._v("#")]),t._v(" 3、变量命名")]),t._v(" "),a("p",[a("strong",[t._v("强制规定")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("以字母或者下划线开头")]),t._v(" "),a("li",[t._v("后面可以跟数字、字母和下划线")]),t._v(" "),a("li",[t._v("变量长度无限制")]),t._v(" "),a("li",[t._v("严格区分大小写")])]),t._v(" "),a("p",[a("strong",[t._v("以下非必须")]),t._v("，程序员的自我修养：")]),t._v(" "),a("ul",[a("li",[t._v("见名知意")]),t._v(" "),a("li",[t._v("增加一些清晰明了的注释")])]),t._v(" "),a("h3",{attrs:{id:"_4、变量的赋值和取值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、变量的赋值和取值"}},[t._v("#")]),t._v(" 4、变量的赋值和取值")]),t._v(" "),a("p",[a("strong",[t._v("定义变量")]),t._v("："),a("code",[t._v("变量名=变量值")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意事项：")]),t._v(" "),a("p",[t._v("1、等号两侧不能有空格；")]),t._v(" "),a("p",[t._v('2、变量值中有空格时要用引号括起 ==> eg:  name="Xin Fan"')])]),t._v(" "),a("p",[a("strong",[t._v("变量取值：")]),a("code",[t._v("$变量名")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意事项：")]),t._v(" "),a("p",[t._v("1、使用${变量名} 的取值方法最保险")]),t._v(" "),a("p",[t._v("2、变量引用其它变量，必须使用双引号，单引号会阻止Shell解释特殊字符$")]),t._v(" "),a("p",[t._v("3、使用 shopt -s -o nounset ，设置脚本遵循”先声明后使用“原则，防止不正当引用未声明变量但是没有错误提示。")])]),t._v(" "),a("h3",{attrs:{id:"_5、取消变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、取消变量"}},[t._v("#")]),t._v(" 5、取消变量")]),t._v(" "),a("p",[a("strong",[t._v("取消变量：")]),a("code",[t._v("unset 变量名||函数名")])]),t._v(" "),a("p",[t._v("将变量或者函数从内存中释放。")]),t._v(" "),a("h3",{attrs:{id:"_6、特殊变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、特殊变量"}},[t._v("#")]),t._v(" 6、特殊变量")]),t._v(" "),a("ul",[a("li",[t._v("位置参数")])]),t._v(" "),a("p",[a("code",[t._v("$0")]),t._v("：脚本名本身。$1、$2……${10}：脚本的第一个参数、第二个参数……第十个参数。")]),t._v(" "),a("p",[a("code",[t._v("$#")]),t._v("：变量总数。")]),t._v(" "),a("p",[a("code",[t._v("$*")]),t._v("、"),a("code",[t._v("$@")]),t._v("：显示所有参数。")]),t._v(" "),a("p",[a("code",[t._v("$?")]),t._v("：前一个命令的退出的返回值。")]),t._v(" "),a("p",[a("code",[t._v("$!")]),t._v("：最后一个后台进程的ID号。")]),t._v(" "),a("ul",[a("li",[t._v("脚本或命令返回值：$?")])]),t._v(" "),a("p",[t._v("Linux中规定"),a("code",[t._v("正常退出的命令和脚本应该以0作为其返回值")]),t._v("，"),a("code",[t._v("任何非0的返回值都表示命令未正确退出或未正常执行")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@fanxin sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfi    //故意输入错误的指令")]),t._v("\n-bash: ifconfi: 未找到命令\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@fanxin sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo $?    //使用 $? 查看命令的返回值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),t._v("                            //返回值不为0，说明命令未正常执行\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ---------使用正确的命令------------")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@fanxin sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ping github.com -c 1")]),t._v("\nPING github.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.250")]),t._v(".177.223"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" bytes of data.\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v(" bytes from ec2-13-250-177-223.ap-southeast-1.compute.amazonaws.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.250")]),t._v(".177.223"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("160")]),t._v(" ms\n\n--- github.com "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v(" statistics ---\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" packets transmitted, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" received, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% packet loss, "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" 0ms\nrtt min/avg/max/mdev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("160.787")]),t._v("/160.787/160.787/0.000 ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@fanxin sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo $?     //使用 $? 查看命令的返回值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("                               //返回值为0，说明命令正常执行\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h3",{attrs:{id:"_7、数组-重点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、数组-重点"}},[t._v("#")]),t._v(" 7、数组（重点）")]),t._v(" "),a("ul",[a("li",[t._v("数组的定义")])]),t._v(" "),a("p",[a("strong",[t._v("声明方式：")]),t._v(" "),a("code",[t._v("declare-a 数组名")]),t._v(" //通过 declare 关键字来声明一个数组")]),t._v(" "),a("p",[a("strong",[t._v("赋值方式：")]),t._v(" "),a("code",[t._v("数组名[0]=值")]),t._v("      //通过数组名[下标从0开始]的形式进行赋值")]),t._v(" "),a("p",[a("strong",[t._v("声明+赋值：")]),t._v(" 数组名=('值1','值2','值3')  //不适用declare关键字，创建数组并直接赋值")]),t._v(" "),a("ul",[a("li",[t._v("数组操作")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("数组取值")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("数组长度")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("数组截取")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("连接数组")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("替换元素")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("取消数组")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("${数组名[索引]}")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("${#数组名[@或*]}")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("${数组名[@]:1:2}")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(${数组1[@]} ${数组2[@]})")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(${数组[@]/a/b})")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("unset 数组名||数组[索引]")])])])]),t._v(" "),a("ul",[a("li")])])}),[],!1,null,null,null);s.default=n.exports}}]);